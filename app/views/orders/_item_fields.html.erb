<tr class="<%= f.object.persisted? ? "" : 'new_order_item' %>">
  <%= f.hidden_field :_destroy %>
  <td>
    <%= f.input :item_type_id, collection: (ItemType.all.map {|type| [type.name, type.id, {'data-price' => type.default_price}]}),
      input_html: { class: "order_item_type_select" } %>
  </td>
  <td>
    <%= f.input :quantity, input_html: { class: 'order_item_quantity' } %>
  </td>
  <td>
    <%= f.input :price, input_html: { class: 'order_item_price' } %>
  </td>
  <td class="order_item_subtotal">
    <%= f.object.subtotal %>
  </td>
  <td>
    <%= link_to "remove", '#', class: "remove_field tiny secondary" %>
  </td>
</tr>
